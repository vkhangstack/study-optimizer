'use strict';function _0x2351(_0x15d5c8,_0x970cca){const _0x3f811f=_0x3f81();return _0x2351=function(_0x2351c6,_0x3314be){_0x2351c6=_0x2351c6-0x139;let _0x582fd1=_0x3f811f[_0x2351c6];return _0x582fd1;},_0x2351(_0x15d5c8,_0x970cca);}const _0x95f50=_0x2351;(function(_0x29dfcf,_0x4dce53){const _0x43969d=_0x2351,_0x28759e=_0x29dfcf();while(!![]){try{const _0x2ded84=parseInt(_0x43969d(0x150))/0x1+parseInt(_0x43969d(0x14d))/0x2*(-parseInt(_0x43969d(0x16d))/0x3)+parseInt(_0x43969d(0x15d))/0x4*(-parseInt(_0x43969d(0x146))/0x5)+parseInt(_0x43969d(0x153))/0x6*(-parseInt(_0x43969d(0x143))/0x7)+-parseInt(_0x43969d(0x164))/0x8+-parseInt(_0x43969d(0x13b))/0x9*(-parseInt(_0x43969d(0x15f))/0xa)+parseInt(_0x43969d(0x144))/0xb;if(_0x2ded84===_0x4dce53)break;else _0x28759e['push'](_0x28759e['shift']());}catch(_0x3c5a71){_0x28759e['push'](_0x28759e['shift']());}}}(_0x3f81,0x23aa7));const t=require(_0x95f50(0x158)),s=require(_0x95f50(0x174))(_0x95f50(0x14e)),e=require('./utils')['deprecate'];function _0x3f81(){const _0x2c6625=['bot','38940GTrsSN','error:\x20[polling_error]\x20%j','listeners','482730mxYtJI','setTimeout\x20for\x20%s\x20miliseconds','error:\x20Due\x20to\x20error\x20\x27','options','_lastRequest','./errors','_abort','number','Polling\x20restart','restart','4Lgsyru','boolean','57080UYDUZK','finally','_error','message','_pollingTimeout','1658232QlFDkA','_unsetWebHook','stop','polling_error','polling','offset','processUpdate','emit','setWebHook','3OedQSR','params','`options.polling.timeout`\x20is\x20deprecated.\x20Use\x20`options.polling.params`\x20instead.','timeout','getUpdates','_processing','Polling\x20stop','debug','_lastUpdate','_request','object','response','length','FatalError','error:\x20Internal\x20handling\x20of\x20The\x20Offset\x20Infinite\x20Loop\x20failed','297PciDRj','polling\x20data\x20%j','resolve','error','_getUpdates','error:\x20You\x20may\x20receive\x20already-processed\x20updates\x20on\x20app\x20restart','isPolling','_polling','21JTKgUf','5810013ElfAsQ','interval','310120rFbSgl','then','Polling\x20is\x20aborted!','statusCode','cancel','now','catch','197464QVJEEU','zalo-bot-api'];_0x3f81=function(){return _0x2c6625;};return _0x3f81();}module['exports']=class{['start'](_0x285ff9={}){const _0x25e5ae=_0x95f50;return this[_0x25e5ae(0x157)]?_0x285ff9[_0x25e5ae(0x15c)]?this[_0x25e5ae(0x166)]({'cancel':!0x0,'reason':_0x25e5ae(0x15b)})[_0x25e5ae(0x147)](()=>this['_polling']()):Promise[_0x25e5ae(0x13d)]():this[_0x25e5ae(0x142)]();}[_0x95f50(0x166)](_0x2ec370={}){const _0x36d9cf=_0x95f50;if(!this[_0x36d9cf(0x157)])return Promise[_0x36d9cf(0x13d)]();let _0x44566d=this[_0x36d9cf(0x157)];if(this[_0x36d9cf(0x157)]=null,clearTimeout(this['_pollingTimeout']),_0x2ec370[_0x36d9cf(0x14a)]){let _0x4a254e=_0x2ec370['reason']||_0x36d9cf(0x173);return _0x44566d[_0x36d9cf(0x14a)](_0x4a254e),Promise['resolve']();}return this[_0x36d9cf(0x159)]=!0x0,_0x44566d[_0x36d9cf(0x160)](()=>{const _0x4a0294=_0x36d9cf;this[_0x4a0294(0x159)]=!0x1;});}[_0x95f50(0x141)](){const _0x2aec03=_0x95f50;return!!this[_0x2aec03(0x157)];}[_0x95f50(0x161)](_0x5d815a){const _0x214e54=_0x95f50;return this[_0x214e54(0x14f)][_0x214e54(0x152)](_0x214e54(0x167))[_0x214e54(0x179)]?this['bot']['emit'](_0x214e54(0x167),_0x5d815a):console['error'](_0x214e54(0x151),_0x5d815a);}[_0x95f50(0x142)](){const _0x1a0975=_0x95f50;return this[_0x1a0975(0x157)]=this[_0x1a0975(0x13f)]()[_0x1a0975(0x147)](_0x302604=>{const _0x5d24bd=_0x1a0975;this[_0x5d24bd(0x175)]=Date[_0x5d24bd(0x14b)](),s(_0x5d24bd(0x13c),_0x302604);try{this[_0x5d24bd(0x14f)][_0x5d24bd(0x16a)](_0x302604);}catch(_0x29e526){throw _0x29e526[_0x5d24bd(0x172)]=!0x0,_0x29e526;}return null;})[_0x1a0975(0x14c)](_0x10952c=>{const _0x456d2a=_0x1a0975;if(s('polling\x20error:\x20%s',_0x10952c[_0x456d2a(0x162)]),!_0x10952c['_processing']||(delete _0x10952c[_0x456d2a(0x172)],!this['bot'][_0x456d2a(0x156)]['badRejection']))return this['_error'](_0x10952c);let _0xb0f33a={'offset':this[_0x456d2a(0x156)]['params']['offset'],'limit':0x1,'timeout':0x0};return this[_0x456d2a(0x14f)][_0x456d2a(0x171)](_0xb0f33a)[_0x456d2a(0x147)](()=>this[_0x456d2a(0x161)](_0x10952c))[_0x456d2a(0x14c)](_0x1e18e4=>(console[_0x456d2a(0x13e)](_0x456d2a(0x13a)),console[_0x456d2a(0x13e)](_0x456d2a(0x155)+_0x1e18e4+'\x27'),console['error'](_0x456d2a(0x140)),this['bot'][_0x456d2a(0x16b)](_0x456d2a(0x13e),new t[(_0x456d2a(0x139))](_0x10952c))));})[_0x1a0975(0x160)](()=>{const _0x435743=_0x1a0975;this[_0x435743(0x159)]?s(_0x435743(0x148)):(s(_0x435743(0x154),this[_0x435743(0x156)][_0x435743(0x145)]),this[_0x435743(0x163)]=setTimeout(()=>this['_polling'](),this[_0x435743(0x156)][_0x435743(0x145)]));}),this[_0x1a0975(0x157)];}[_0x95f50(0x165)](){const _0x22b611=_0x95f50;return s('unsetting\x20webhook'),this['bot'][_0x22b611(0x176)](_0x22b611(0x16c));}[_0x95f50(0x13f)](){const _0x1b40e5=_0x95f50;return s('polling\x20with\x20options:\x20%j',this['options'][_0x1b40e5(0x16e)]),this[_0x1b40e5(0x14f)][_0x1b40e5(0x171)](this['options'][_0x1b40e5(0x16e)])[_0x1b40e5(0x14c)](_0x41fa06=>{const _0x484dd4=_0x1b40e5;if(_0x41fa06[_0x484dd4(0x178)]&&0x199===_0x41fa06[_0x484dd4(0x178)][_0x484dd4(0x149)])return this[_0x484dd4(0x165)]()['then'](()=>this[_0x484dd4(0x14f)][_0x484dd4(0x171)](this[_0x484dd4(0x156)][_0x484dd4(0x16e)]));throw _0x41fa06;});}constructor(_0x582ac5){const _0x5bc2af=_0x95f50;this[_0x5bc2af(0x14f)]=_0x582ac5,this[_0x5bc2af(0x156)]=_0x5bc2af(0x15e)==typeof _0x582ac5['options'][_0x5bc2af(0x168)]?{}:_0x582ac5[_0x5bc2af(0x156)][_0x5bc2af(0x168)],this['options'][_0x5bc2af(0x145)]=_0x5bc2af(0x15a)==typeof this['options'][_0x5bc2af(0x145)]?this['options'][_0x5bc2af(0x145)]:0x12c,this[_0x5bc2af(0x156)][_0x5bc2af(0x16e)]=_0x5bc2af(0x177)==typeof this[_0x5bc2af(0x156)]['params']?this[_0x5bc2af(0x156)][_0x5bc2af(0x16e)]:{},this[_0x5bc2af(0x156)][_0x5bc2af(0x16e)][_0x5bc2af(0x169)]=_0x5bc2af(0x15a)==typeof this['options'][_0x5bc2af(0x16e)][_0x5bc2af(0x169)]?this['options']['params']['offset']:0x0,this[_0x5bc2af(0x156)][_0x5bc2af(0x16e)][_0x5bc2af(0x170)]='number'==typeof this[_0x5bc2af(0x156)][_0x5bc2af(0x16e)]['timeout']?this[_0x5bc2af(0x156)][_0x5bc2af(0x16e)][_0x5bc2af(0x170)]:0xa,_0x5bc2af(0x15a)==typeof this[_0x5bc2af(0x156)][_0x5bc2af(0x170)]&&(e(_0x5bc2af(0x16f)),this[_0x5bc2af(0x156)]['params'][_0x5bc2af(0x170)]=this[_0x5bc2af(0x156)][_0x5bc2af(0x170)]),this['_lastUpdate']=0x0,this['_lastRequest']=null,this[_0x5bc2af(0x159)]=!0x1,this[_0x5bc2af(0x163)]=null;}};